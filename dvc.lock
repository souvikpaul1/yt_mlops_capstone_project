schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 695985e86284ce6544b2fcf703fb9c28
      size: 3584
    params:
      params.yaml:
        data_ingestion.test_size: 0.25
    outs:
    - path: data_s3/raw
      hash: md5
      md5: 57edf67666a17b0478ad3fcd35e3abd6.dir
      size: 52764258
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data_s3/raw
      hash: md5
      md5: 57edf67666a17b0478ad3fcd35e3abd6.dir
      size: 52764258
      nfiles: 2
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 37e0cb6122134276e3de108eeb2ee3b5
      size: 3015
    outs:
    - path: data_s3/interim
      hash: md5
      md5: 38799ad64d36fa9c7feb3be8a921ee17.dir
      size: 32712471
      nfiles: 2
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data_s3/interim
      hash: md5
      md5: 38799ad64d36fa9c7feb3be8a921ee17.dir
      size: 32712471
      nfiles: 2
    - path: src/features/feature_engineering.py
      hash: md5
      md5: a96a2ccbf9f53eac1390690e506187df
      size: 3544
    params:
      params.yaml:
        feature_engineering.max_features: 10000
    outs:
    - path: data_s3/processed
      hash: md5
      md5: d0c82681fcd545f1cb7afdef78a90fba.dir
      size: 800227160
      nfiles: 2
    - path: models/vectorizer.pkl
      hash: md5
      md5: fee20aaae56574798f639d861f1e1b87
      size: 247887
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data_s3/processed
      hash: md5
      md5: d0c82681fcd545f1cb7afdef78a90fba.dir
      size: 800227160
      nfiles: 2
    - path: src/model/model_building.py
      hash: md5
      md5: 19238fb7869b30e223f3ca8998eb6a3d
      size: 1972
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 568cc4261e89479965faf528d0038be9
      size: 80725
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: models/model.pkl
      hash: md5
      md5: 568cc4261e89479965faf528d0038be9
      size: 80725
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 867817f3429079b512f7dc27bbfedbd4
      size: 5755
    outs:
    - path: reports/experiment_info.json
      hash: md5
      md5: 4acee40d92105b8d19b0a186427f94b1
      size: 82
    - path: reports/metrics.json
      hash: md5
      md5: 593c6003f8202eab8c5d04b89352d412
      size: 164
  model_registration:
    cmd: python src/model/register_model.py
    deps:
    - path: reports/experiment_info.json
      hash: md5
      md5: 4acee40d92105b8d19b0a186427f94b1
      size: 82
    - path: src/model/register_model.py
      hash: md5
      md5: cb2761fb5ee913494fe6b08fbb7d0091
      size: 3253
